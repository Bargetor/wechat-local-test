<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">

    <meta http-equiv="Access-Control-Allow-Origin" content="*" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <head>

        <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="js/common.js"></script>
        <script type="text/javascript" src="js/encrypt.js"></script>
        <script type="text/javascript" src="js/request.js"></script>
        <script type="text/javascript" src="js/Global.js"></script>
        <script type="text/javascript" src="js/XMLWriter.js"></script>
        <script type="text/javascript">
            var targetUrl = "http://127.0.0.1:8000/api/";
            var outpur;
            function sign(){
                signature(targetUrl, "bargetor_chestnut", signatureCallback);
            }

            function signatureCallback(data){
                output.value = data;
            }

            function userSendTextMsg(){
                userSendTextMassage(targetUrl, "bargetor_public", "fengjianlanqiao","this is test", userSendTextMsgCallback);
            }

            function userSendTextMsgCallback(data){
                output.value = data;
            }

            function userSendPicMsg(){
                userSendPicMassage(targetUrl, "bargetor_public", "fengjianlanqiao","http://www.bargetor.com/index.png", "mediaId", userSendPicMsgCallback);
            }

            function userSendPicMsgCallback(data){
                output.value = data;
            }

            function userSendVoiceMsg(){
                userSendVoiceMassage(targetUrl, "bargetor_public", "fengjianlanqiao","mediaId", "amr", userSendVoiceMsgCallback);
            }

            function userSendVoiceMsgCallback(data){
                output.value = data;
            }

            function userSendVideoMsg(){
                userSendVideoMassage(targetUrl, "bargetor_public", "fengjianlanqiao","mediaId", "thumbMediaId", userSendVideoMsgCallback);
            }

            function userSendVideoMsgCallback(data){
                output.value = data;
            }

            function userSendLocationMsg(){
                userSendLocationMassage(targetUrl, "bargetor_public", "fengjianlanqiao","12.121213", "123.1212121", "0.5", "近铁广场", userSendLocationMsgCallback);
            }

            function userSendLocationMsgCallback(data){
                output.value = data;
            }

            function userSendLinkMsg(){
                userSendLinkMassage(targetUrl, "bargetor_public", "fengjianlanqiao","this is title", "this is description", "http://www.bargetor.com", userSendLinkMsgCallback);
            }

            function userSendLinkMsgCallback(data){
                output.value = data;
            }

            function subscribe(){
                subscribeEvent(targetUrl, "bargetor_public", "fangjianlanqiao", subscribeCallBack);
            }

            function subscribeCallBack(data){
                output.value = data;
            }

            function unSubscribe(){
                unSubscribeEvent(targetUrl, "bargetor_public", "fangjianlanqiao", unSubscribeCallBack);
            }

            function unSubscribeCallBack(data){
                output.value = data;
            }



            function onLoad(){
                output = document.getElementById("output");
            }
        </script>
    </head>
    <body>
        <div>
            <input type="button" onclick="sign();" value="token认证">
            <input type="button" onclick="userSendTextMsg()" value="发送文本信息">
            <input type="button" onclick="userSendPicMsg()" value="发送图片信息">
            <input type="button" onclick="userSendVoiceMsg()" value="发送语音信息">
            <input type="button" onclick="userSendVideoMsg()" value="发送视频信息">
            <input type="button" onclick="userSendLocationMsg()" value="发送地理位置信息">
            <input type="button" onclick="userSendLinkMsg()" value="发送连接信息">
            <input type="button" onclick="subscribe()" value="关注事件">
            <input type="button" onclick="unSubscribe()" value="取消关注事件">
            <input type="button" onclick="subscribe()" value="扫描二维码未关注">
            <input type="button" onclick="unSubscribe()" value="扫描二维码已关注">
            <input type="button" onclick="subscribe()" value="上报地理位置">
            <input type="button" onclick="unSubscribe()" value="点击菜单拉取消息">
            <input type="button" onclick="unSubscribe()" value="点击菜单跳转链接">
        </div>

        <textarea type="textarea" id="output" cols="30" rows="6" style="width: 500px;height: 300px;">

        </textarea>
    </body>
</html>
